(this.webpackJsonptodoapp=this.webpackJsonptodoapp||[]).push([[0],{119:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(32),s=n.n(c),o=(n(119),n(20)),i=n(37),l=n(21),u=n(12),d=n(5),h=n(9),j=n.n(h),b=n(23),f=n(17),m=n(38),p=n(47),O=n(53),x=n(52),g=n(158),v=n(146),w=n(101),y=n(140),k=n(142),C=n(148),S=n(162),U=n(160),D=n(163),F=n(150),P=n(151),W=n(159),A=n(152),N=n(59),z=(n(134),n(121),n(125),N.a.initializeApp({apiKey:"AIzaSyDsO6Wug98IpiIXnm-vsXsraxJQ_s7mUoc",authDomain:"fhshacks-todo.firebaseapp.com",projectId:"fhshacks-todo",storageBucket:"fhshacks-todo.appspot.com",messagingSenderId:"611067837827",appId:"1:611067837827:web:a674f15fd9af22aed74ab6",measurementId:"G-PTFP9C39P7"})),T=n(153),I=n(143),E=n(3),B=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(y.a,{bottom:"1%",bg:"gray.800",w:"100%",justifyContent:"center",children:Object(E.jsxs)(k.a,{fontSize:20,mb:"1%",textAlign:"center",mt:"5%",color:"white",children:["\xa9 2021"," ",Object(E.jsx)(I.a,{color:"cyan",href:"https://eliaswambugu.com",children:"Elias Wambugu"})]})})})},J=z.database(),L=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).state={categories:[],currentUser:"",notifications:[]},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;null!==N.a.auth().currentUser&&function(){var t=Object(f.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=z.auth().currentUser,t.next=3,z.database().ref("".concat(n.uid,"/notifications")).orderByChild("date").on("child_added",function(){var t=Object(f.a)(j.a.mark((function t(r){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState((function(e){return{notifications:[].concat(Object(b.a)(e.notifications),[{title:r.val().title,body:r.val().body,date:r.val().date,viewed:r.val().viewed,key:r.key,user:n.uid}])}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:return t.next=5,z.database().ref("".concat(n.uid,"/user")).update({displayName:n.displayName,email:n.email});case 5:return t.t0=e,t.next=8,N.a.auth().currentUser.uid;case 8:return t.t1=t.sent,t.t2={currentUser:t.t1},t.t0.setState.call(t.t0,t.t2),t.next=13,J.ref("".concat(e.state.currentUser,"/categories")).orderByKey().on("child_added",function(){var t=Object(f.a)(j.a.mark((function t(n){var r,a,c,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=0,a=[],c=0,s=0,!n.val().todos){t.next=9;break}return t.next=7,J.ref("".concat(e.state.currentUser,"/categories/").concat(n.key,"/todos/")).orderByChild("completed").on("child_added",(function(e){e.val().completed?c+=1:s+=1,a.push({todo:e.val(),key:e.key}),r=Math.round(c/a.length*100)}));case 7:t.next=11;break;case 9:c=0,r=0;case 11:e.setState((function(e){return{categories:[].concat(Object(b.a)(e.categories),[{name:n.val().name,todos:a,percent:r,todo:s,completed:0,key:n.key}])}}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 13:return t.next=15,J.ref("".concat(e.state.currentUser,"/categories/")).on("child_changed",function(){var t=Object(f.a)(j.a.mark((function t(n){var r,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=JSON.parse(JSON.stringify(e.state.categories)),a=0;case 2:if(!(a<r.length)){t.next=8;break}if(r[a].name!==n.val().name){t.next=5;break}return t.delegateYield(j.a.mark((function t(){var c,s,o,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=void 0,s=[],o=0,i=0,!n.val().todos){t.next=9;break}return t.next=7,J.ref("".concat(e.state.currentUser,"/categories/").concat(n.key,"/todos/")).on("child_added",(function(e){e.val().completed?i+=1:o+=1,s.push({todo:e.val(),key:e.key}),c=Math.round(i/s.length*100)}));case 7:t.next=11;break;case 9:c=0,i=0;case 11:r[a]={name:n.val().name,todos:s,percent:c,completed:i,todo:o,key:n.key},e.setState({categories:r});case 13:case"end":return t.stop()}}),t)}))(),"t0",5);case 5:a++,t.next=2;break;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}},{key:"componentWillUnmount",value:function(){J.ref("".concat(this.state.currentUser,"/categories/")).off(),J.ref("".concat(this.state.currentUser,"/notifications/")).off()}},{key:"render",value:function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(_,{notifications:this.state.notifications,currentUser:this.state.currentUser,categories:this.state.categories})})}}]),n}(a.a.Component),_=function(e){var t=Object(g.a)(),n=Object(r.useState)(""),a=Object(d.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(z.auth().currentUser.email),h=Object(d.a)(i,2),b=h[0],m=(h[1],Object(r.useState)("")),p=Object(d.a)(m,2),O=p[0],x=p[1],N=Object(r.useState)({name:"",category:null,key:""}),I=Object(d.a)(N,2),L=I[0],_=I[1],M=Object(r.useState)(["orange.400","blue.400","red.400","purple.400"]),R=Object(d.a)(M,2),K=R[0];R[1];Object(r.useEffect)((function(){s(e.currentUser),e.notifications&&e.notifications.map(function(){var e=Object(f.a)(j.a.mark((function e(n,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.viewed){e.next=4;break}return t({title:n.title,description:n.body,status:"success",duration:1e4,isClosable:!0}),e.next=4,J.ref("".concat(n.user,"/notifications/").concat(n.key)).update({viewed:!0});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[s,e.currentUser,t,e.notifications]);var V=function(){var n=Object(f.a)(j.a.mark((function n(r){var a,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r.preventDefault(),a=!1,s=0;s<e.categories.length;s++)e.categories[s].name===O&&(a=!0);if(a){n.next=13;break}if(!(e.categories.length>=4)){n.next=8;break}t({title:"Uh Oh :(",description:"The max number of categories is 4",status:"error",duration:5e3,isClosable:!0}),n.next=11;break;case 8:return n.next=10,J.ref("".concat(c,"/categories/")).push({name:O});case 10:x("");case 11:n.next=14;break;case 13:t({title:"Uh Oh :(",description:"Duplicate category",status:"error",duration:5e3,isClosable:!0});case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),X=function(e){var t=e.target.value;_(Object(o.a)(Object(o.a)({},L),{},Object(u.a)({},e.target.name,t)))},G=function(){var e=Object(f.a)(j.a.mark((function e(n,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==L.name&&null!==L.category){e.next=5;break}t({title:"Uh Oh :(",description:"Please make sure to fill all fields",status:"error",duration:5e3,isClosable:!0}),e.next=8;break;case 5:return e.next=7,J.ref("".concat(c,"/categories/").concat(L.category,"/todos/")).push({name:L.name,completed:!1});case 7:_(Object(o.a)(Object(o.a)({},L),{},{name:""}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(f.a)(j.a.mark((function e(t,n,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.ref("".concat(c,"/categories/").concat(n.key,"/todos/").concat(r.key)).update({completed:!r.todo.completed});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Q=function(){var e=Object(f.a)(j.a.mark((function e(t,n,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.ref("".concat(c,"/categories/").concat(n.key,"/todos/").concat(r.key)).remove();case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Y=function(){var e=Object(f.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===n.name){e.next=4;break}return e.next=3,J.ref("".concat(c,"/categories/").concat(n.key)).update({name:t});case 3:window.location.reload(!0);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(f.a)(j.a.mark((function e(t,n,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===r.todo.name){e.next=3;break}return e.next=3,J.ref("".concat(c,"/categories/").concat(n.key,"/todos/").concat(r.key)).update({name:t});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Z=function(){z.auth().signOut()},$=Object(l.g)();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(v.a,{w:"100%",h:"100vh",overflow:"auto",bg:"gray.800",children:["admin@admin.com"===b?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(w.a,{left:["40%","60%","76%","78%"],w:["28%","20%","10%","8%"],mt:"2%",flexDir:"end",onClick:function(){$.push("/admin")},colorScheme:"cyan",children:"Dashboard"}),Object(E.jsx)(w.a,{left:["48%","63%","78%","80%"],w:["20%","15%","10%","8%"],mt:"2%",flexDir:"end",onClick:Z,colorScheme:"red",children:"Logout"})]}):Object(E.jsx)(w.a,{left:["78%","80%","88%","90%"],w:["20%","15%","10%","8%"],mt:"2%",flexDir:"end",onClick:Z,colorScheme:"red",children:"Logout"}),Object(E.jsxs)(v.a,{ml:"5%",mt:"1%",mr:"5%",children:[Object(E.jsx)("form",{onSubmit:V,children:Object(E.jsxs)(y.a,{w:"100%",flexDir:["column","column","row","row"],children:[Object(E.jsx)(k.a,{fontWeight:"200",color:"white",textTransform:"uppercase",fontSize:30,children:"categories"}),Object(E.jsxs)(y.a,{ml:"2%",w:"100%",children:[Object(E.jsx)(C.a,{value:O,onChange:function(e){var t=e.target.value;x(t)},color:"white",ml:"4%",variant:"flushed",w:["60%","40%","40%","30%"],placeholder:"Create Category (max 4)"}),Object(E.jsx)(w.a,{type:"submit",colorScheme:"cyan",ml:"5%",children:"Create"}),e.categories.length]})]})}),Object(E.jsx)(S.a,{justifyContent:"center",mt:"2%",h:"50%",spacing:5,columns:[e.categories.length/4,e.categories.length/4,e.categories.length/2,e.categories.length],children:e.categories?Object(E.jsx)(E.Fragment,{children:e.categories.map((function(e,t){return Object(E.jsx)(y.a,{flexDir:"column",children:Object(E.jsxs)(v.a,{p:5,rounded:25,bg:K[t],w:300,h:200,overflow:"auto",children:[Object(E.jsx)(U.a,{value:e.percent,color:"blue.900",children:Object(E.jsxs)(U.b,{children:[e.percent,"%"]})}),Object(E.jsxs)(D.a,{mt:"15%",fontSize:25,fontWeight:"700",onSubmit:function(t){return Y(t,e)},defaultValue:e.name,children:[Object(E.jsx)(D.c,{}),Object(E.jsx)(D.b,{})]}),Object(E.jsxs)(k.a,{fontWeight:"200",ml:"1%",bottom:5,children:[e.todos.length," Items"]})]})})}))}):null}),e.categories?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("form",{onSubmit:G,children:Object(E.jsxs)(y.a,{w:"100%",mt:"5%",flexDir:"row",justifyContent:"center",children:[Object(E.jsx)(C.a,{name:"name",value:L.name,onChange:X,color:"white",placeholder:"Add Item",variant:"flushed",w:"30%"}),Object(E.jsx)(F.a,{name:"category",value:L.category,onChange:X,color:"white",ml:"5%",w:"30%",variant:"flushed",placeholder:"Select category",children:e.categories.map((function(e,t){return Object(E.jsx)("option",{value:e.key,children:e.name},t)}))}),Object(E.jsx)(w.a,{type:"submit",colorScheme:"cyan",ml:"5%",children:"Add Item"})]})})}):null,Object(E.jsx)(S.a,{justifyContent:"center",mb:"5%",mt:"5%",h:"50%",spacing:5,columns:[e.categories.length/4,e.categories.length/4,e.categories.length/4,e.categories.length],children:e.categories.map((function(e,t){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(y.a,{children:Object(E.jsxs)(v.a,{color:"white",rounded:25,bg:"blue.900",w:300,minH:400,h:"auto",overflow:"auto",children:[Object(E.jsx)(v.a,{bg:K[t],w:"100%",h:10,children:Object(E.jsx)(k.a,{color:"gray.900",textAlign:"center",fontWeight:"200",fontSize:25,children:e.name})}),Object(E.jsx)(y.a,{mt:"2%",flexDir:"column",justifyContent:"center",children:Object(E.jsxs)(k.a,{fontSize:20,ml:"2%",fontWeight:"700",textAlign:"center",children:["Completed: ",e.completed]})}),Object(E.jsxs)(P.a,{mt:"5%",ml:"5%",mr:"5%",mb:"10%",children:[Object(E.jsx)(y.a,{mt:"2%",flexDir:"column",justifyContent:"center",children:Object(E.jsxs)(k.a,{fontSize:20,fontWeight:"700",textAlign:"center",children:["Todo: ",e.todo]})}),e.todos?Object(E.jsx)(E.Fragment,{children:e.todos.map((function(t,n){return Object(E.jsx)(P.b,{mt:"4%",children:Object(E.jsxs)(y.a,{flexDir:"row",children:[Object(E.jsx)(W.a,{isChecked:t.todo.completed,onChange:function(n){return H(n,e,t)},colorScheme:"green"}),Object(E.jsxs)(D.a,{ml:"5%",onSubmit:function(n){return q(n,e,t)},defaultValue:t.todo.name,children:[Object(E.jsx)(D.c,{}),Object(E.jsx)(D.b,{})]}),Object(E.jsx)(A.a,{onClick:function(n){return Q(n,e,t)},ml:"5%",size:"sm",colorScheme:"red","aria-label":"delete item",icon:Object(E.jsx)(T.a,{})})]})},n)}))}):null]})]})})})})}))})]}),Object(E.jsx)(B,{})]})})},M=L,R=a.a.createContext(),K=function(e){var t=e.children,n=Object(r.useState)(null),a=Object(d.a)(n,2),c=a[0],s=a[1];return Object(r.useEffect)((function(){z.auth().onAuthStateChanged(s)}),[]),Object(E.jsx)(R.Provider,{value:{currentUser:c},children:t})},V=function(){var e=Object(r.useState)({email:"",password:""}),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(l.g)(),s=Object(g.a)(),i=function(){var e=Object(f.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,z.auth().signInWithEmailAndPassword(n.email,n.password);case 4:s({title:"",description:"Logged in!",status:"success",duration:5e3,isClosable:!0}),c.push("/"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),(r=JSON.stringify(e.t0)).includes("There is no user record")||r.includes("The password is invalid")?s({title:"Uh Oh :(",description:"Incorrect email/password",status:"error",duration:5e3,isClosable:!0}):s({title:"Uh Oh :(",description:r,status:"error",duration:5e3,isClosable:!0});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.target.value;a(Object(o.a)(Object(o.a)({},n),{},Object(u.a)({},e.target.name,t)))};return Object(r.useContext)(R).currentUser&&c.push("/"),Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(v.a,{w:"100%",h:"100vh",overflow:"auto",bg:"gray.800",children:[Object(E.jsxs)(v.a,{align:"center",bg:"gray.800",w:["100%","100%","100%","100%"],left:["50%","50%","50%","50%"],top:"20%",children:[Object(E.jsx)(k.a,{color:"white",fontSize:[60,60,70,80],fontWeight:"200",children:"Welcome!"}),Object(E.jsxs)("form",{onSubmit:i,children:[Object(E.jsxs)(y.a,{align:"center",flexDir:"column",children:[Object(E.jsx)(C.a,{name:"email",onChange:h,value:n.email,color:"white",w:["70%","50%","40%","30%"],mt:"2%",variant:"flushed",placeholder:"Email"}),Object(E.jsx)(C.a,{name:"password",type:"password",onChange:h,value:n.password,color:"white",w:["70%","50%","40%","30%"],mt:"5%",variant:"flushed",placeholder:"Password"})]}),Object(E.jsx)(w.a,{mb:["5%","4%","3%","1%"],fontSize:20,colorScheme:"cyan",w:"20%",mt:"2%",type:"submit",children:"Login"})]}),Object(E.jsx)(I.a,{color:"cyan",href:"/forgotpassword",children:"Forgot Password"}),Object(E.jsxs)(k.a,{mt:["5%","4%","3%","1%"],color:"white",children:["New User?"," ",Object(E.jsx)(I.a,{color:"cyan",href:"/signup",children:"Signup"})]})]}),Object(E.jsx)(B,{})]})})},X=function(){var e=Object(r.useState)({name:"",email:"",password:"",repassword:""}),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(l.g)(),s=Object(g.a)(),i=function(){var e=Object(f.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.password===n.repassword){e.next=5;break}s({title:"Uh Oh :(",description:"Passwords do not match",status:"error",duration:5e3,isClosable:!0}),e.next=22;break;case 5:if(""===n.name||""===n.email||""===n.password){e.next=21;break}return e.prev=6,e.next=9,z.auth().createUserWithEmailAndPassword(n.email,n.password).then(function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.user.updateProfile({displayName:n.name}),e.next=3,z.database().ref("".concat(t.user.uid,"/user")).set({email:n.email});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:return e.next=11,z.auth().currentUser.sendEmailVerification();case 11:s({title:"",description:"Check your email to verify your account!",status:"success",duration:5e3,isClosable:!0}),c.push("/"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),(r=JSON.stringify(e.t0)).includes("The email address is badly formatted.")?s({title:"Uh Oh :(",description:"The email address is badly formatted",status:"error",duration:5e3,isClosable:!0}):r.includes("least 6 characters")?s({title:"Uh Oh :(",description:"Password must be at least 6 characters",status:"error",duration:5e3,isClosable:!0}):r.includes("The email address is already in use")?s({title:"Uh Oh :(",description:"This email address is already in use",status:"error",duration:5e3,isClosable:!0}):s({title:"Uh Oh :(",description:e.t0,status:"error",duration:5e3,isClosable:!0});case 19:e.next=22;break;case 21:s({title:"Uh Oh :(",description:"All fields must be filled in",status:"error",duration:5e3,isClosable:!0});case 22:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.target.value;a(Object(o.a)(Object(o.a)({},n),{},Object(u.a)({},e.target.name,t)))};return Object(r.useContext)(R).currentUser&&c.push("/"),Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(v.a,{w:"100%",h:"100vh",overflow:"auto",bg:"gray.800",children:[Object(E.jsxs)(v.a,{align:"center",bg:"gray.800",w:["100%","100%","100%","100%"],left:["50%","50%","50%","50%"],top:"10%",children:[Object(E.jsx)(k.a,{textAlign:"center",color:"white",fontSize:[60,60,70,80],fontWeight:"200",children:"Welcome!"}),Object(E.jsxs)("form",{onSubmit:i,children:[Object(E.jsxs)(y.a,{align:"center",flexDir:"column",children:[Object(E.jsx)(C.a,{name:"name",onChange:h,value:n.name,color:"white",w:["70%","50%","40%","30%"],mt:"2%",variant:"flushed",placeholder:"Name"}),Object(E.jsx)(C.a,{name:"email",onChange:h,value:n.email,color:"white",w:["70%","50%","40%","30%"],mt:"5%",variant:"flushed",placeholder:"Email"}),Object(E.jsx)(C.a,{name:"password",type:"password",onChange:h,value:n.password,color:"white",w:["70%","50%","40%","30%"],mt:"5%",variant:"flushed",placeholder:"Password"}),Object(E.jsx)(C.a,{name:"repassword",type:"password",onChange:h,value:n.repassword,color:"white",w:["70%","50%","40%","30%"],mt:"5%",variant:"flushed",placeholder:"Re-enter Password"})]}),Object(E.jsx)(w.a,{fontSize:20,justifySelf:"center",colorScheme:"cyan",w:"20%",mt:"2%",type:"submit",children:"Signup"})]}),Object(E.jsxs)(k.a,{mb:"5%",mt:"2%",color:"white",children:["Already A User?"," ",Object(E.jsx)(I.a,{color:"cyan",href:"/login",children:"Login"})]})]}),Object(E.jsx)(B,{})]})})},G=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(v.a,{w:"100%",h:"100vh",bg:"gray.800",children:Object(E.jsx)(k.a,{textAlign:"center",align:"center",color:"white",fontWeight:"200",fontSize:100,children:"404 :("})})})},H=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(g.a)(),s=Object(l.g)(),o=function(){var e=Object(f.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n){e.next=5;break}c({title:"Uh Oh :(",description:"All fields must be filled in",status:"error",duration:5e3,isClosable:!0}),e.next=15;break;case 5:return e.prev=5,e.next=8,z.auth().sendPasswordResetEmail(n).then((function(){c({title:"",description:"Email sent!",status:"success",duration:5e3,isClosable:!0})}));case 8:s.push("/login"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),(r=JSON.stringify(e.t0)).includes("There is no user record")?c({title:"Uh Oh :(",description:"Invalid email",status:"error",duration:5e3,isClosable:!0}):r.includes("The email address is badly formatted.")?c({title:"Uh Oh :(",description:"The email address is badly formatted",status:"error",duration:5e3,isClosable:!0}):c({title:"Uh Oh :(",description:"An error has occurred",status:"error",duration:5e3,isClosable:!0});case 15:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useContext)(R).currentUser&&s.push("/"),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(v.a,{w:"100%",h:"100vh",overflow:"auto",bg:"gray.800",children:Object(E.jsxs)(v.a,{align:"center",bg:"gray.800",w:["100%","100%","100%","100%"],left:["50%","50%","50%","50%"],top:"20%",children:[Object(E.jsx)(k.a,{fontWeight:"200",color:"white",fontSize:[60,60,70,80],children:"Reset Password"}),Object(E.jsx)("form",{onSubmit:o,children:Object(E.jsxs)(y.a,{align:"center",flexDir:"column",children:[Object(E.jsx)(C.a,{name:"email",onChange:function(e){var t=e.target.value;a(t)},value:n,color:"white",w:["70%","50%","40%","30%"],mt:"2%",variant:"flushed",placeholder:"Email"}),Object(E.jsx)(w.a,{mb:["5%","4%","3%","1%"],fontSize:20,colorScheme:"cyan",w:["50%","40%","30%","20%"],mt:"2%",type:"submit",children:"Reset Password"}),Object(E.jsx)(I.a,{color:"cyan",href:"/login",children:"Login"})]})})]})})})},Q=n(154),Y=n(157),q=n(156),Z=n(155),$=z.database(),ee=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).state={users:[]},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;(function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.ref("/").orderByKey().on("child_added",function(){var t=Object(f.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState((function(e){return{users:[].concat(Object(b.a)(e.users),[{key:n.key,displayName:n.val().user.displayName,email:n.val().user.email}])}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}},{key:"componentWillUnmount",value:function(){$.ref("/").off()}},{key:"render",value:function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(te,{users:this.state.users})})}}]),n}(a.a.Component),te=function(e){var t=Object(l.g)(),n=Object(g.a)(),a=Object(r.useState)({title:"",body:""}),c=Object(d.a)(a,2),s=c[0],i=c[1],h=Object(Q.a)(),b=h.isOpen,m=h.onOpen,p=h.onClose;Object(r.useEffect)((function(){(function(){var e=Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.auth().currentUser.email;case 2:"admin@admin.com"!==e.sent&&t.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var O=function(){var e=Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===s.title||""===s.body){e.next=7;break}return e.next=3,z.database().ref("/").on("child_added",function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.database().ref("".concat(t.key,"/notifications")).push({title:s.title,body:s.body,date:JSON.stringify(Date.now()),viewed:!1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:i({title:"",body:""}),p(),e.next=8;break;case 7:n({title:"Uh Oh :(",description:"Please make sure to fill all fields",status:"error",duration:5e3,isClosable:!0});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){var t=e.target.value;i(Object(o.a)(Object(o.a)({},s),{},Object(u.a)({},e.target.name,t)))};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(Y.a,{isOpen:b,onClose:p,children:[Object(E.jsx)(Y.g,{}),Object(E.jsxs)(Y.d,{bg:"gray.800",children:[Object(E.jsx)(Y.f,{color:"white",children:"New Notification"}),Object(E.jsx)(Y.c,{color:"white"}),Object(E.jsx)(Y.b,{children:Object(E.jsxs)("form",{onSubmit:O,children:[Object(E.jsx)(C.a,{name:"title",value:s.title,onChange:x,color:"white",variant:"flushed",placeholder:"Title"}),Object(E.jsx)(C.a,{name:"body",value:s.body,onChange:x,mt:"5%",color:"white",variant:"flushed",placeholder:"Body"})]})}),Object(E.jsxs)(Y.e,{children:[Object(E.jsx)(w.a,{colorScheme:"cyan",mr:3,onClick:p,children:"Close"}),Object(E.jsx)(w.a,{onClick:O,colorScheme:"red",variant:"ghost",children:"Save"})]})]})]}),Object(E.jsxs)(v.a,{w:"100%",h:"100vh",overflow:"auto",bg:"gray.800",children:[Object(E.jsx)(Z.a,{pos:"absolute",_hover:{cursor:"pointer"},onClick:function(){return t.push("/")},w:45,h:45,color:"white"}),Object(E.jsx)(w.a,{left:["35%","60%","65%","72%"],w:["35%","20%","20%","10%"],mt:"2%",flexDir:"end",onClick:m,colorScheme:"cyan",children:"New Notification"}),Object(E.jsx)(w.a,{left:["43%","63%","68%","75%"],w:["20%","15%","10%","8%"],mt:"2%",flexDir:"end",onClick:function(){z.auth().signOut()},colorScheme:"red",children:"Logout"}),Object(E.jsx)(k.a,{fontWeight:200,color:"white",fontSize:30,textAlign:"center",children:"Users"}),Object(E.jsxs)(q.a,{mt:"2%",borderWidth:5,borderRadius:50,borderColor:"blue.800",variant:"unstyled",align:"center",mb:"5%",w:"50%",children:[Object(E.jsx)(q.e,{children:Object(E.jsxs)(q.f,{children:[Object(E.jsx)(q.d,{color:"blue.600",children:"#"}),Object(E.jsx)(q.d,{color:"blue.600",children:"Name"}),Object(E.jsx)(q.d,{color:"blue.600",children:"Email"})]})}),Object(E.jsx)(q.b,{color:"white",children:e.users.map((function(e,t){return Object(E.jsxs)(q.f,{color:"blue.50",children:[Object(E.jsx)(q.c,{color:"blue.100",children:t}),Object(E.jsx)(q.c,{color:"blue.100",children:e.displayName}),Object(E.jsx)(q.c,{wordBreak:"break-all",color:"blue.100",children:e.email})]})}))})]})]})]})},ne=ee,re=n(102),ae=function(e){var t=e.component,n=Object(re.a)(e,["component"]),a=Object(r.useContext)(R).currentUser;return Object(E.jsx)(l.b,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return a?Object(E.jsx)(t,Object(o.a)({},e)):Object(E.jsx)(l.a,{to:"/login"})}}))},ce=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(K,{children:Object(E.jsx)(i.a,{children:Object(E.jsxs)(l.d,{children:[Object(E.jsx)(ae,{exact:!0,path:"/",component:function(e){return Object(E.jsx)(M,Object(o.a)({},e))}}),Object(E.jsx)(ae,{exact:!0,path:"/admin",component:function(e){return Object(E.jsx)(ne,Object(o.a)({},e))}}),Object(E.jsx)(l.b,{exact:!0,path:"/login",render:function(e){return Object(E.jsx)(V,Object(o.a)({},e))}}),Object(E.jsx)(l.b,{exact:!0,path:"/signup",render:function(e){return Object(E.jsx)(X,Object(o.a)({},e))}}),Object(E.jsx)(l.b,{exact:!0,path:"/forgotpassword",render:function(e){return Object(E.jsx)(H,Object(o.a)({},e))}}),Object(E.jsx)(l.b,{component:G})]})})})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,164)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},oe=n(161);s.a.render(Object(E.jsx)(i.a,{basename:".",children:Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(oe.a,{children:Object(E.jsx)(ce,{})})})}),document.getElementById("root")),se()}},[[133,1,2]]]);
//# sourceMappingURL=main.2f595da0.chunk.js.map